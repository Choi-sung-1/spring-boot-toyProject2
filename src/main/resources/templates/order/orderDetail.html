<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì£¼ë¬¸ ìƒì„¸ ë‚´ì—­</title>

    <style>
        body {
            margin: 0;
            padding: 0 24px;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            background: #fafafa;
        }

        /* í˜ì´ì§€ íƒ€ì´í‹€ */
        .page-title {
            font-size: 24px;
            font-weight: 700;
            margin: 20px 0 10px 0;
        }

        a.back-link {
            text-decoration: none;
            color: #2d6df6;
            font-size: 14px;
        }

        /* ì¹´ë“œ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .section-card {
            background: white;
            border-radius: 12px;
            padding: 20px 24px;
            margin-top: 18px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.06);
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 14px;
        }

        /* ì •ë³´ í…Œì´ë¸” */
        .info-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }

        .info-table td {
            padding: 10px 0;
        }

        .info-table th {
            text-align: left;
            width: 150px;
            color: #666;
            font-weight: 500;
            padding: 10px 0;
        }

        /* êµ¬ë¶„ì„  ëŒ€ì‹  light border */
        .info-table tr + tr td,
        .info-table tr + tr th {
            border-top: 1px solid #eee;
        }

        /* ì£¼ë¬¸ ìƒí’ˆ ëª©ë¡ */
        .product-table th {
            font-weight: 600;
            color: #444;
            padding-bottom: 10px;
        }

        .product-table td {
            padding: 10px 0;
            border-top: 1px solid #eee;
            font-size: 14px;
        }

        .product-name a {
            color: #2d6df6;
            text-decoration: none;
            font-weight: 500;
        }

        /* ì´ ê²°ì œ ê¸ˆì•¡ ê°•ì¡° */
        .total-row strong {
            font-size: 16px;
            color: #222;
        }
        #reviewBtn {
            display: inline-block;
            padding: 8px 14px;
            background: #0071e3;
            color: white;
            border-radius: 8px;
            font-size: 14px;
            text-decoration: none;
            transition: 0.2s;
        }

    </style>

</head>
<body>

<!-- ë’¤ë¡œê°€ê¸° -->
<a class="back-link" href="/order/orderList">â† ì£¼ë¬¸ ëª©ë¡ìœ¼ë¡œ</a>

<!-- í˜ì´ì§€ ì œëª© -->
<h1 class="page-title">ğŸ§¾ ì£¼ë¬¸ ìƒì„¸ ë‚´ì—­</h1>


<!-- ì£¼ë¬¸ ì •ë³´ -->
<div class="section-card">
    <div class="section-title">ì£¼ë¬¸ ì •ë³´</div>

    <table class="info-table">
        <tr>
            <th>ì£¼ë¬¸ ë²ˆí˜¸</th>
            <td th:text="${order.orderId}"></td>
        </tr>
        <tr>
            <th>ì£¼ë¬¸ ì¼ì‹œ</th>
            <td th:text="${order.formatOrderDate()}"></td>
        </tr>
        <tr>
            <th>ê²°ì œ ë°©ë²•</th>
            <td th:text="${order.orderPaymentMethod}"></td>
        </tr>
        <tr>
            <th>ì£¼ë¬¸ ìƒíƒœ</th>
            <td th:text="${order.orderStatus}"></td>
        </tr>
    </table>

</div>



<!-- ë°°ì†¡ ì •ë³´ -->
<div class="section-card">
    <div class="section-title">ğŸ“¦ ë°°ì†¡ ì •ë³´</div>

    <table class="info-table">
        <tr>
            <th>ë°›ëŠ” ì‚¬ëŒ</th>
            <td th:text="${member.memberName}"></td>
        </tr>
        <tr>
            <th>ì—°ë½ì²˜</th>
            <td th:text="${member.memberPhone}"></td>
        </tr>
        <tr>
            <th>ì£¼ì†Œ</th>
            <td th:text="${order.orderAddress}"></td>
        </tr>
        <tr>
            <th>ìƒì„¸ ì£¼ì†Œ</th>
            <td th:text="${order.orderDetailAddress}"></td>
        </tr>
        <tr>
            <th>ìš”ì²­ì‚¬í•­</th>
            <td th:text="${order.orderMemo}"></td>
        </tr>
    </table>
</div>


<!-- ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ -->
<div class="section-card">
    <div class="section-title">ğŸ› ì£¼ë¬¸ ìƒí’ˆ</div>

    <table class="info-table product-table">
        <thead>
        <tr>
            <th>ìƒí’ˆëª…</th>
            <th>ìˆ˜ëŸ‰</th>
            <th>ê°€ê²©</th>
            <th>í•©ê³„</th>
            <th>ë¦¬ë·°</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="item : ${orderItems}">
            <td class="product-name">
                <a th:href="@{/product/detail/{productId}(productId=${item.productId})}"
                   th:text="${item.productName}"></a>
            </td>
            <td th:text="|${item.orderItemQuantity}ê°œ|"></td>
            <td th:text="|${item.formatProductPrice()}ì›|"></td>
            <td th:text="|${item.calProductTotalPrice()}ì›|"></td>
            <td>
                <a th:if="${order.orderStatus}=='ë°°ì†¡ ì™„ë£Œ'"
                   id="reviewBtn"
                   th:href="@{/review/write/{productId}(productId=${item.productId})}">
                    ë¦¬ë·° ì‘ì„±
                </a>
                <span th:unless="${order.orderStatus}=='ë°°ì†¡ ì™„ë£Œ'" style="color:#aaa;">-</span>
            </td>
        </tr>
        </tbody>
    </table>
</div>


<!-- ê²°ì œ ê¸ˆì•¡ -->
<div class="section-card">
    <div class="section-title">ğŸ’µ ê²°ì œ ê¸ˆì•¡</div>

    <table class="info-table">
        <tr>
            <th>ìƒí’ˆ ì´ì•¡</th>
            <td th:text="|${order.formatOrderTotalProductPrice()}ì›|"></td>
        </tr>
        <tr>
            <th>ë°°ì†¡ë¹„</th>
            <td th:text="|${order.formatDeliveryPrice()}ì›|"></td>
        </tr>
        <tr class="total-row">
            <th><strong>ì´ ê²°ì œ ê¸ˆì•¡</strong></th>
            <td><strong th:text="|${order.formatOrderTotalPayment()}ì›|"></strong></td>
        </tr>
    </table>
</div>

</body>
</html>
